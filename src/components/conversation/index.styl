@require 'zorium-paper/base'

@require '../../vars'

json('zorium-paper/colors.json')

$zIndexTextarea = 2

.z-conversation
  flex: 1
  display: flex
  flex-direction: column
  width: 100%

  &.is-textarea-focused
    > .bottom
      > .g-grid
        > .textarea
          height: 84px

  > .g-grid
    display: flex
    flex: 1
    flex-direction: column

    > .messages
      flex: 1
      overflow-y: auto
      overflow-x: hidden
      -webkit-overflow-scrolling: touch
      // margin-bottom: 64px
      width: 100%
      opacity: 0
      padding: 8px

      &.is-loaded
        opacity: 1

      > .message
        display: flex
        padding: 16px 0 0 16px
        width: 100%
        box-sizing: border-box

        &.is-sticker
          > .bubble
            background: none !important

        &.is-me
          margin-right: auto

          > .avatar
            display: none

          > .bubble
            margin-left: auto
            background: getColor('$tertiary500')

            > .body
              > div
                > .sticker
                  margin-left: auto
                  margin-right: 0

        > .avatar
          margin-right: 4px

        > .bubble
          padding: 10px 12px
          border-bottom: 1px solid getColor('$black12')
          width: 234px
          background: getColor('$tertiary700')
          border-radius: 2px
          box-sizing: border-box

          > .info
            responsive-font-subhead()
            color: getColor('$tertiary900Text')
            padding-right: 16px
            margin-bottom: 4px
            display: flex
            align-items: center

            > .icon
              margin-right: 8px

          > .body
            responsive-font-body1()
            color: getColor('$tertiary900Text')
            padding-right: 16px
            margin-top: 4px
            margin-bottom: 8px
            overflow-x: hidden

            > div
              > .sticker
                width: 70px
                height: 70px
                background-size: 100%
                background-repeat: no-repeat
                margin-right: auto

          > .bottom
            display: flex
            align-items: center
            padding-right: 16px
            responsive-font-caption()
            color: getColor('$primary500')

            > .name
              margin-left: auto
              margin-right: 4px

            > .middot
              margin-right: 4px

  > .bottom
    > .g-grid
      box-shadow: 0 1px 4px getColor('$black26')
      background: getColor('$tertiary500')
      position: relative

      > .sticker-panel
        width: 100%
        position: relative
        padding: 8px 16px 16px 16px

        > .close-icon
          position: absolute
          top: 8px
          right: 16px

        > .title
          responsive-font-subhead()
          color: getColor('$primary500')
          margin-bottom: 20px

        > .stickers
          > .sticker
            width: 70px
            height: 70px
            background-size: 100%
            background-repeat: no-repeat
            display: inline-block
            margin-right: 8px

      > .textarea
        width: 100%
        height: 48px
        padding: 16px 92px 0 16px
        box-sizing: border-box
        border: none
        outline: none
        background: getColor('$tertiary500')

      > .icons
        position: absolute
        right: 12px
        top: 0%
        height: 100%
        display: flex
        align-items: center
        cursor: pointer

        > .send-icon
          height: 100%
          display: flex

  @media (min-width: $breakPointMedium)
    > .g-grid
      > .messages
        padding-bottom: 64px

        .message
          > .bubble
            width: 478px

          > .content > .info > .name
            max-width: none


    > .textarea-container
      background: getColor('$tertiary900')

      > .g-grid
        margin-bottom: 16px
