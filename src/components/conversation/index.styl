@require 'zorium-paper/base'

@require '../../vars'

json('zorium-paper/colors.json')

$zIndexTextarea = 2

.z-conversation
  flex: 1
  display: flex
  width: 100%
  position: relative

  > .g-grid
    display: flex
    flex: 1
    flex-direction: column

    > .messages
      flex: 1
      overflow-y: auto
      overflow-x: hidden
      -webkit-overflow-scrolling: touch
      margin-bottom: 64px
      width: 100%
      opacity: 0
      padding: 8px

      &.is-loaded
        opacity: 1

      > .message
        display: flex
        padding: 16px 0 0 16px
        width: 100%
        box-sizing: border-box

        &.is-me
          margin-right: auto

          > .avatar
            display: none

          > .bubble
            margin-left: auto
            background: getColor('$tertiary500')

        > .avatar
          margin-right: 4px

        > .bubble
          padding: 10px 12px
          border-bottom: 1px solid getColor('$black12')
          width: 50%
          background: getColor('$tertiary700')
          border-radius: 2px

          // 478
          // 234

          > .info
            responsive-font-subhead()
            color: getColor('$tertiary900Text')
            padding-right: 16px
            margin-bottom: 4px
            display: flex
            align-items: center

            > .icon
              margin-right: 8px

          > .body
            responsive-font-body1()
            color: getColor('$tertiary900Text')
            padding-right: 16px
            margin-top: 4px
            margin-bottom: 8px
            overflow-x: hidden

          > .bottom
            display: flex
            align-items: center
            padding-right: 16px
            responsive-font-caption()
            color: getColor('$primary500')

            > .name
              margin-left: auto
              margin-right: 4px

            > .middot
              margin-right: 4px

  > .textarea-container
    position: absolute
    z-index: $zIndexTextarea
    bottom: 0
    left: 0
    width: 100%

    > .g-grid
      box-shadow: 0 1px 4px getColor('$black26')
      background: getColor('$tertiary500')
      position: relative

      > .textarea
        width: 100%
        height: 48px
        padding: 16px 92px 0 16px
        box-sizing: border-box
        border: none
        outline: none
        background: getColor('$tertiary500')

        &:focus
          height: 84px

      > .icons
        position: absolute
        right: 12px
        top: 50%
        margin-top: -24px
        display: flex
        align-items: center

        > .color-icon-wrapper
          padding: 12px
          display: flex

          > .color-icon
            display: inline-block
            margin: auto
            width: 20px
            height: 20px
            position: relative
            box-sizing: border-box
            border-radius: 50%

            > .color-inner
              position: absolute
              left: 2px
              top: 2px
              width: 16px
              height: 16px
              border-radius: 50%
              border: 1px solid $white
              box-sizing: border-box



  @media (min-width: $breakPointMedium)
    > .g-grid
      > .messages
        padding-bottom: 64px

        .message > .content > .info > .name
          max-width: none


    > .textarea-container
      background: getColor('$tertiary900')

      > .g-grid
        margin-bottom: 16px
