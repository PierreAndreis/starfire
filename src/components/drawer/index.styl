@require 'zorium-paper/base'

@require '../../vars'

$zIndexDrawer = 300
$zIndexDrawerUserHeader = 200
$zIndexDrawerGuestHeader = 200
$zIndexDrawerHeader = 100

.z-drawer
  position: fixed
  z-index: $zIndexDrawer
  width: 100%
  height: 100%
  top: 0
  left: 0
  pointer-events: none // not supported in ie9/10 (ie our entire app breaks)

  @media (min-width: $breakPointMedium)
    position: relative
    width: 336px
    z-index: 1
    pointer-events: all // not supported in ie9/10 (ie our entire app breaks)

    > .overlay
      display: none

    > .drawer
      position: relative
      z-index: 1
      transform: translate(0, 0) !important

  &.is-open
    pointer-events: all // not supported in ie9/10

    > .overlay
      opacity: 0.5
      transition: opacity 0.2s cubic-bezier(0.4, 0, 0.2, 1)

    > .drawer
      transition: transform 0.2s cubic-bezier(0.4, 0, 0.2, 1)

  > .overlay
    background: getColor('$black')
    opacity: 0
    transition: opacity 0.2s cubic-bezier(0.4, 0, 0.2, 1)
    width: 100%
    height: 100%
    -webkit-tap-highlight-color: getColor('$transparent')

  > .drawer
    // width and transform translate set in js
    height: 100%
    top: 0
    position: fixed
    transition: transform 0.2s cubic-bezier(0.4, 0, 0.2, 1)
    overflow: auto
    -webkit-overflow-scrolling: touch
    display: flex
    flex-direction: column
    background: getColor('$tertiary500')
    // prevents flicker glitch http://stackoverflow.com/a/3921870
    backface-visibility: hidden

    > .header
      display: flex
      width: 100%
      padding: 16px
      box-sizing: border-box
      position: relative
      z-index: $zIndexDrawerHeader
      // prevents flicker glitch http://stackoverflow.com/a/3921870
      backface-visibility: hidden
      height: 56px
      padding: 19px 16px
      border-bottom: 1px solid $white12

      &:after
        content: ''
        position: absolute
        left: 0
        top: 0
        width: 100%
        height: 100%

      > .logo
        width: 100%
        height: 100%
        background: url($cdnUrl + '/rt_logo.svg') no-repeat
        background-size: auto 100%
        background-position: 0 center

    > .content
      flex: 1
      width: 100%
      box-sizing: border-box
      background: getColor('$tertiary500')
      padding: 8px 0

      > .menu
        list-style-type: none
        margin: 0
        padding: 0

        > .divider
          width: 100%
          height: 1px
          background: getColor('$white12')
          margin: 8px 0

        > .menu-item
          > .menu-item-link
            responsive-font-body2()
            display: block
            padding: 16px

            > .icon
              display: inline-block
              vertical-align: middle
              margin-right: 36px

          &.is-selected
            > .menu-item-link
              background: getColor('$tertiary400')

    > .no-deck
      background: getColor('$tertiary700')
      padding: 16px
      text-align: center

      > .set-deck-button
        margin: auto

      > .description
        responsive-font-caption()
        margin-top: 16px

    > .deck
      background: getColor('$tertiary700')
      padding: 16px
      display: flex

      > .deck-cards
        width: 196px

        > .stats
          responsive-font-caption()
          text-align: left
          margin-top: 8px
          padding-left: 4px

      > .buttons
        margin-left: auto
        min-width: 96px

.z-drawer_button
  display: flex
  align-items: center

  > .text
    margin-left: 8px

.z-drawer_set-deck-button
  display: flex
  align-items: center

  > .text
    margin-left: 8px
