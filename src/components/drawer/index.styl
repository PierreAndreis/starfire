@require 'zorium-paper/base'

@require '../../vars'

$zIndexDrawer = 300
$zIndexDrawerHeader = 100

.z-drawer
  position: fixed
  z-index: $zIndexDrawer
  width: 0
  height: 0
  // display: none breaks the animation
  top: 0
  left: 0
  pointer-events: none // not supported in ie9/10 (ie our entire app breaks)

  @media (min-width: $contentMaxWidth)
    position: relative
    z-index: 1
    pointer-events: all // not supported in ie9/10 (ie our entire app breaks)

    > .overlay
      display: none

    > .drawer
      position: relative
      z-index: 1
      transform: translate(0, 0) !important

  &.is-open
    display: block
    width: 100%
    height: 100%
    pointer-events: all // not supported in ie9/10

    > .overlay
      opacity: 0.5
      transition: opacity 0.2s cubic-bezier(0.4, 0, 0.2, 1)

    > .drawer
      transition: transform 0.2s cubic-bezier(0.4, 0, 0.2, 1)

  > .overlay
    background: getColor('$black')
    opacity: 0
    transition: opacity 0.2s cubic-bezier(0.4, 0, 0.2, 1)
    width: 100%
    height: 100%
    -webkit-tap-highlight-color: getColor('$transparent')

  > .drawer
    // width and transform translate set in js
    height: 100%
    top: 0
    position: fixed
    transition: transform 0.2s cubic-bezier(0.4, 0, 0.2, 1)
    display: flex
    flex-direction: column
    background: getColor('$tertiary700')
    // prevents flicker glitch http://stackoverflow.com/a/3921870
    backface-visibility: hidden

    > .top
      flex: 1
      overflow: auto
      -webkit-overflow-scrolling: touch

      > .header
        box-sizing: border-box
        z-index: $zIndexDrawerHeader
        // prevents flicker glitch http://stackoverflow.com/a/3921870
        backface-visibility: hidden
        padding: 20px 16px
        border-bottom: 1px solid $white12
        border-right: 1px solid getColor('$black')
        background: getColor('$primary500')

        > .logo
          width: 100%
          background: url($cdnUrl + '/sf_logo_invert.svg') no-repeat
          background-size: auto 100%
          background-position: 0 center
          height: 20px

          // @media (min-width: $breakPointMedium)
          //   height: 24px

        > .sign-in
          margin-top: 72px

          > .sign-in-button
            font-button()
            padding: 10px
            background: getColor('$tertiary900')
            text-align: center
            cursor: pointer

      > .content
        flex: 1
        width: 100%
        box-sizing: border-box
        background: getColor('$tertiary700')
        padding: 8px 0
        border-right: 1px solid getColor('$black')

        > .menu
          list-style-type: none
          margin: 0
          padding: 0

          > .divider
            width: 100%
            height: 1px
            background: getColor('$white12')
            margin: 8px 0

          > .menu-item
            > .menu-item-link
              font-title()
              display: block
              position: relative
              padding: 16px

              > .icon
                display: inline-block
                vertical-align: middle
                margin-right: 36px
                width: 24px
                height: 28px

            &.is-selected
              > .menu-item-link
                background: getColor('$tertiary500')

    > .no-deck
      background: getColor('$tertiary900')
      padding: 16px
      text-align: center
      border-right: 1px solid getColor('$black')

      > .set-deck-button
        margin: auto

      > .description
        font-caption1()
        margin-top: 16px

    > .deck
      background: getColor('$tertiary900')
      padding: 16px
      display: flex
      border-right: 1px solid getColor('$black')

      > .deck-cards
        width: 196px

        > .stats
          font-caption1()
          text-align: left
          margin-top: 8px
          padding-left: 4px

      > .buttons
        margin-left: auto
        min-width: 96px

.z-drawer_button
  display: flex
  align-items: center

  > .text
    margin-left: 8px

.z-drawer_set-deck-button
  display: flex
  align-items: center

  > .text
    margin-left: 8px
